
<html lang="en"  xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>virus</title>

</head>
<body>
<!-- 搭建显示页面 -->
<div class="container">
    <!-- 标题 -->
    <div class="row">
        <div class="col-md-12">
            <h1>virus</h1>
        </div>
    </div>
    <!-- 显示表格数据 -->
    <div class="row">
        <div class="col-md-12">
            <table class="table table-hover">
                <tr th:each="virus:${page.records}">
                    <td th:text="${virus.id}"></td>
                    <td th:text="${virus.name}"></td>
                    <td><a th:href="@{/virusInfo(virusId=${virus.id})}">详情</a></td>
                </tr>
            </table>
        </div>
    </div>

    <!-- 显示分页信息 -->
    <div class="row">
        <!--分页文字信息  -->
        <div class="col-md-6" >当前 [[${page.current}]]页,总[[${page.pages}]]
            页,总[[ ${page.total}]] 条记录</div>

        <!-- 分页条信息 -->
        <div class="col-md-6">
            <nav aria-label="Page navigation">
                <ul class="pagination">
                    <!--点击首页会跳转到第一页，并且首页禁用-->
                    <th:block th:if="${page.current==1}">
                        <li class="active,disabled">
                            <a>首页</a></li>
                    </th:block>

                    <th:block th:if="${page.current>1}">
                        <li><a th:href="@{/list(pn=1)}">首页</a></li>
                    </th:block>

                    <li  th:if="${page.hasPrevious()}">
                        <a  th:href="@{/list(pn=${page.getCurrent()-1})}">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>

                    <!--遍历页码，只显示五页，点击下一页之后，每次多遍历两个页码-->
                    <th:block  th:if="${page.getCurrent()<=3}" th:each="i:${#numbers.sequence(1,5)}">
                        <!--加判断是不是当前页，如果是 高亮显示，并且取消超链接，这样避免了点击当前页重复发送请求查询数据-->
                        <th:block th:if="${page.getCurrent()==i}">

                            <li  class="active" >
                                <a th:text="${i}"></a>
                            </li>
                        </th:block>

                        <th:block th:if="${page.getCurrent()!=i}">
                            <li>
                                <a th:text="${i}" th:href="@{/list(pn=${i})}"></a>
                            </li>
                        </th:block>
                    </th:block>


                    <th:block th:if="${page.getCurrent()>3 && page.getCurrent()+2<=page.getPages()}"
                              th:each="i:${#numbers.sequence(page.getCurrent()-2,page.getCurrent()+2)}">
                        <!--同理上-->
                        <th:block th:if="${page.getCurrent()==i}">

                            <li  class="active" >
                                <a th:text="${i}"></a>
                            </li>
                        </th:block>

                        <th:block th:if="${page.getCurrent()!=i}">
                            <li>
                                <a th:text="${i}" th:href="@{/list(pn=${i})}"></a>
                            </li>
                        </th:block>
                    </th:block>



                    <th:block th:if="${page.getCurrent()+2>page.getPages()}"
                              th:each="i:${#numbers.sequence(page.getPages()-4,page.getPages())}">
                        <!--同理上-->
                        <th:block th:if="${page.getCurrent()==i}">

                            <li  class="active" >
                                <a th:text="${i}"></a>
                            </li>
                        </th:block>

                        <th:block th:if="${page.getCurrent()!=i}">
                            <li>
                                <a th:text="${i}" th:href="@{/list(pn=${i})}"></a>
                            </li>
                        </th:block>


                    </th:block>


                    <!--下一页-->
                    <li  th:if="${page.hasNext()}">
                        <a  th:href="@{/list(pn=${page.current+1})}">
                            <span aria-hidden="true">&raquo;</span>
                        </a></li>


                    <!--点击末页会跳转到最后一页，并且最后一页禁用-->
                    <th:block th:if="${page.current<page.pages}">
                        <li > <a th:href="@{/list(pn=${page.pages})}">末页</a></li>

                    </th:block>

                    <th:block th:if="${page.current==page.pages}">
                        <li class="active,disabled"> <a>末页</a></li>

                    </th:block>

                </ul>
            </nav>
        </div>
    </div>

</div>
</body>
</html>
